<!doctype html>
<meta charset="utf-8">
<html>
  <head>
    <title>Minerva Analytics</title>
    <script src="../templates/domainListingTemplate.js"></script>

    <script src="../js/underscore.js"></script>
    <script src="../js/sizzle.js"></script>
    <script src="../js/d3.js"></script>
    <script src="../js/plottable.js"></script>
    <script src="../js/newtab.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.js"></script>
    <script src='http://okfnlabs.org/wikipediajs/wikipedia.js'></script>

    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/skeleton.css">
    <link rel="stylesheet" type="text/css" href="css/plottable.css">
    <link rel="stylesheet" type="text/css" href="css/newtab.css">
  </head>
  <script>

  var wikiArticleLink = "http://en.wikipedia.org/wiki/Invasion_of_Normandy";
  var handleData = function handleData(data){

    console.log(data.summary);
    console.log(data.summary.title);

    $("#title").html($("#title").html() + "" + data.summary.title);

    console.log(data.summary.summary);
    $("#summary").html($("#summary").html() + "" + data.summary.summary.substring(0,150) + "...");  

    
    console.log(data.summary.image);
    //$("#image").html($("#image").html() + "" + data.summary.image);
    $("#put-image-here").attr("src", imageLink(data));
    $("#image-link").attr("href", wikiArticleLink);
  }

  function imageLink(data){
    return data.summary.image;
  }

  var handleError = function handleError(error){
    console.log(error);
  }

  var info = WIKIPEDIA.getData(wikiArticleLink, handleData, handleError);

 </script>
  <body>
    <div class="container">
      <div class="row header">
        <div class="twelve columns">
          <h5 id="header-logo">Minerva Analytics</h5>
        </div>
      </div>

      <div class="row">
       <div class="six columns">
          <h6 id="analytics-logo">Browsing Analytics </h6>
            <!-- <img src="/images/analytics-placeholder.png"> -->
        </div>

       <div class="six columns">

        <h5 id="content-logo"> Recommended Content </h5> 

        <ul class="recommended-list">
        <li>
         <div id="image">
          <a href="" id="image-link"><img src="" id="put-image-here" align="left" height="20%" width="20%"> </a>
         </div>
         <div id="title"></div>
         <div id="summary"></div>
         </li>
        </ul>

      </div>

      <div class="row graph">
        <div class="six columns">
          <svg id="graph"></svg>
        </div>
      </div>

      <div class="row details">
        <div class="four columns">
          <h5>Productive</h5>
          <ul class="domain-list-productive"></ul>
        </div>
        <div class="four columns">
          <h5>Unproductive</h5>
          <ul>
            <li>lipsum.com
              <div class="controls">
                <span class="control-item control-item-productive"></span>
                <span class="control-item control-item-unknown"></span>
                <span class="control-item control-item-unproductive"></span>
              </div>
            </li>
            <li>lipsum.com
              <div class="controls">
                <span class="control-item control-item-productive"></span>
                <span class="control-item control-item-unknown"></span>
                <span class="control-item control-item-unproductive"></span>
              </div>
            </li>
            <li>lipsum.com
              <div class="controls">
                <span class="control-item control-item-productive"></span>
                <span class="control-item control-item-unknown"></span>
                <span class="control-item control-item-unproductive"></span>
              </div>
            </li>
            <li>lipsum.com
              <div class="controls">
                <span class="control-item control-item-productive"></span>
                <span class="control-item control-item-unknown"></span>
                <span class="control-item control-item-unproductive"></span>
              </div>
            </li>
            <li>lipsum.com
              <div class="controls">
                <span class="control-item control-item-productive"></span>
                <span class="control-item control-item-unknown"></span>
                <span class="control-item control-item-unproductive"></span>
              </div>
            </li>
          </ul>
        </div>
        <div class="four columns">
          <h5>Unknown</h5>
          <ul>
            <li>lipsum.com
              <div class="controls">
                <span class="control-item control-item-productive"></span>
                <span class="control-item control-item-unknown"></span>
                <span class="control-item control-item-unproductive"></span>
              </div>
            </li>
            <li>lipsum.com
              <div class="controls">
                <span class="control-item control-item-productive"></span>
                <span class="control-item control-item-unknown"></span>
                <span class="control-item control-item-unproductive"></span>
              </div>
            </li>
            <li>lipsum.com
              <div class="controls">
                <span class="control-item control-item-productive"></span>
                <span class="control-item control-item-unknown"></span>
                <span class="control-item control-item-unproductive"></span>
              </div>
            </li>
            <li>lipsum.com
              <div class="controls">
                <span class="control-item control-item-productive"></span>
                <span class="control-item control-item-unknown"></span>
                <span class="control-item control-item-unproductive"></span>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </body>
</html>

